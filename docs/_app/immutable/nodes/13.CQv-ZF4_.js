import{s as K,n as M,h as T}from"../chunks/scheduler.BzdGhz2i.js";import{S as L,i as P,e as d,t as V,s as I,c as g,a as b,b as A,d as _,f as D,l as G,n as C,g as S,h as m,r as z,u as B,j as F,w as J}from"../chunks/index.BZhIKOHS.js";import{e as H}from"../chunks/each.D6YF6ztN.js";function N(h,s,t){const r=h.slice();return r[6]=s[t],r}function O(h){let s,t="Game Over";return{c(){s=d("div"),s.textContent=t},l(r){s=g(r,"DIV",{"data-svelte-h":!0}),G(s)!=="svelte-1ekh3pm"&&(s.textContent=t)},m(r,e){S(r,s,e)},d(r){r&&_(s)}}}function j(h){let s,t;return{c(){s=d("div"),this.h()},l(r){s=g(r,"DIV",{class:!0}),b(s).forEach(_),this.h()},h(){C(s,"class",t=T(h[6].type)+" svelte-ysq6se")},m(r,e){S(r,s,e)},p(r,e){e&2&&t!==(t=T(r[6].type)+" svelte-ysq6se")&&C(s,"class",t)},d(r){r&&_(s)}}}function Q(h){let s,t,r,e,i,u,w="Score when here",v,l,p,q,E,n=h[0]&&O(),y=H(h[1]),c=[];for(let a=0;a<y.length;a+=1)c[a]=j(N(h,y,a));return{c(){s=d("main"),t=d("h1"),r=V("Score: "),e=V(h[2]),i=I(),u=d("h2"),u.textContent=w,v=I(),n&&n.c(),l=I(),p=d("div");for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){s=g(a,"MAIN",{});var f=b(s);t=g(f,"H1",{});var o=b(t);r=A(o,"Score: "),e=A(o,h[2]),o.forEach(_),i=D(f),u=g(f,"H2",{class:!0,"data-svelte-h":!0}),G(u)!=="svelte-qsi8w"&&(u.textContent=w),v=D(f),n&&n.l(f),l=D(f),p=g(f,"DIV",{class:!0});var k=b(p);for(let x=0;x<c.length;x+=1)c[x].l(k);k.forEach(_),f.forEach(_),this.h()},h(){C(u,"class","thingy svelte-ysq6se"),C(p,"class","playArea svelte-ysq6se")},m(a,f){S(a,s,f),m(s,t),m(t,r),m(t,e),m(s,i),m(s,u),m(s,v),n&&n.m(s,null),m(s,l),m(s,p);for(let o=0;o<c.length;o+=1)c[o]&&c[o].m(p,null);q||(E=z(window,"keydown",B(h[3])),q=!0)},p(a,[f]){if(f&4&&F(e,a[2]),a[0]?n||(n=O(),n.c(),n.m(s,l)):n&&(n.d(1),n=null),f&2){y=H(a[1]);let o;for(o=0;o<y.length;o+=1){const k=N(a,y,o);c[o]?c[o].p(k,f):(c[o]=j(k),c[o].c(),c[o].m(p,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=y.length}},i:M,o:M,d(a){a&&_(s),n&&n.d(),J(c,a),q=!1,E()}}}function R(h,s,t){let r=!1,e=[{id:1,type:"full",moved:!1,score:!1}],i=0;for(let l=0;l<47;l++)e.push({id:l,type:"empty",moved:!1,score:!1});function u(l){switch(l.keyCode){case 38:t(1,e[41].score="true",e),setTimeout(()=>{t(1,e[41].score="false",e)},1e3);break;case 40:t(1,e[42].score="true",e),setTimeout(()=>{t(1,e[42].score="false",e)},1e3);break;case 37:t(1,e[40].score="true",e),setTimeout(()=>{t(1,e[40].score="false",e)},1e3);break;case 39:t(1,e[43].score="true",e),setTimeout(()=>{t(1,e[43].score="false",e)},1e3);break}}function w(){for(let l=0;l<4;l++)t(1,e[44+l].type="death",e),t(1,e[44+l].score="death",e);if(r!=!0){for(let l=0;l<44;l++)if(e[l].type==="full"){t(1,e[l].type="empty",e),t(1,e[l+4].type="full",e),e[l+4].type==="full"&&e[l+4].score==="true"&&(t(2,i+=1),t(1,e[l+4].type="empty",e)),e[l+4].type==="full"&&e[l+4].score==="death"&&(t(2,i-=1),t(1,e[l+4].type="empty",e),i<0&&t(0,r=!0));break}}}function v(){let l=Math.floor(Math.random()*4);r!=!0&&(t(1,e[l].type="full",e),t(1,e[l].moved=!0,e))}return setInterval(w,400),setInterval(v,4400),[r,e,i,u]}class Y extends L{constructor(s){super(),P(this,s,R,Q,K,{})}}export{Y as component};
